<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>计算器</title>
    <!-- 引入bootstrap样式 -->
    <link href="../assembly/plugins/bootstrap/bootstrap-table/css/bootstrap.css" rel="stylesheet">
    <link href="../assembly/plugins/bootstrap/bootstrap-table/css/bootstrap-theme.css" rel="stylesheet">
    <!-- 引入bootstrap-table样式 -->
    <link href="../assembly/plugins/bootstrap/bootstrap-table/css/bootstrap-table.css" rel="stylesheet">
    <!-- jquery -->
    <script src="../assembly/plugins/jquery/core/jquery-1.9.1.js"></script>
    <script src="../assembly/plugins/bootstrap/bootstrap-table/js/bootstrap.js"></script>
    <!-- bootstrap-table.js -->
    <script src="../assembly/plugins/bootstrap/bootstrap-table/js/bootstrap-table.js"></script>
    <!-- 引入中文语言包 -->
    <script src="../assembly/plugins/bootstrap/bootstrap-table/locale/bootstrap-table-zh-CN.js"></script>
    <!-- x-editable bootstrap3-editable -->
    <link href="../assembly/plugins/x-editable/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet">
    <script src="../assembly/plugins/x-editable/bootstrap3-editable/js/bootstrap-editable.js"></script>
    <script src="../assembly/plugins/x-editable/bootstrap3-editable/js/bootstrap-table-editable.js"></script>

    <!-- bootstrap-switch -->
    <link href="../assembly/plugins/bootstrap/bootstrap-switch/static/stylesheets/bootstrap-switch.css" rel="stylesheet">
    <script src="../assembly/plugins/bootstrap/bootstrap-switch/static/js/bootstrap-switch.js"></script>
    <!-- bootstrap-timepicker -->
    <link href="../assembly/plugins/bootstrap/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet">
    <script src="../assembly/plugins/bootstrap/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
    <!-- bootstrap-datetimepicker 日期组件 -->
    <link href="../assembly/plugins/bootstrap/bootstrap-datetimepicker/css/bootstrap-datetimepicker.css" rel="stylesheet">
    <script src="../assembly/plugins/bootstrap/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js"></script>
    <script src="../assembly/plugins/bootstrap/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js"></script>

    <!-- bootstrap-treeview -->
    <link href="../assembly/plugins/bootstrap/bootstrap-treeview/bootstrap-treeview.min.css" rel="stylesheet">
    <script src="../assembly/plugins/bootstrap/bootstrap-treeview/bootstrap-treeview.min.js"></script>

    <!-- select2 -->
    <link href="../assembly/plugins/jquery/select2/select2.css" rel="stylesheet">
    <link href="../assembly/plugins/jquery/select2/select2-bootstrap.css" rel="stylesheet">
    <script src="../assembly/plugins/jquery/select2/select2.js"></script>
    <script src="../assembly/plugins/jquery/select2/select2_locale_zh-CN.js"></script>
    <!-- jquery validation -->
    <script src="../assembly/plugins/jquery/jquery-validation-1.17.0/dist/jquery.validate.js"></script>
    <script src="../assembly/plugins/jquery/jquery-validation-1.17.0/dist/localization/messages_zh.js"></script>

    <!-- 引入zTree 3 -->
    <link href="../assembly/plugins/zTree/v3/css/metroStyle/metroStyle.css" rel="stylesheet">
    <script src="../assembly/plugins/zTree/v3/js/jquery.ztree.all.js"></script>
    <!-- 图标组件 -->
    <link href="../assembly/plugins/bootstrap/font-awesome-4.7.0/css/font-awesome.css" rel="stylesheet">
    <!-- 公共js -->
    <script src="../assembly/js/common/common.js" type="text/javascript"></script>
    <script src="../assembly/plugins/message/bootbox.js" type="text/javascript"></script>


    <script type="text/javascript" src="../assembly/plugins/crypto-js/core.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/enc-base64.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/cipher-core.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/aes.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/enc-utf16.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/evpkdf.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/format-hex.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/hmac.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/lib-typedarrays.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/mode-ecb.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/pbkdf2.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/md5.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/mode-ecb.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/rabbit.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/rabbit-legacy.js"></script>
    <script type="text/javascript" src="../assembly/plugins/crypto-js/sha256.js"></script>

    <style>
        body {background-color:#b0c4de;}
    </style>
</head>
<body>
<div>
    <div id="navBarToolView" style="margin-top: 70px;">
    </div>

    <div class="container">
        <div class="row">

            <div class="col-xs-12  col-sm-12  col-md-12  col-lg-12" style="margin-top:10px;margin-bottom:10px;">
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <div class="col-xs-12  col-sm-12  col-md-12  col-lg-12">
                            <textarea class="form-control" data-value="" name="result"></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="0" data-value="0" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="1" data-value="1" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="2" data-value="2" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="3" data-value="3" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="4" data-value="4" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="5" data-value="5" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="6" data-value="6" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="7" data-value="7" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="8" data-value="8" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="9" data-value="9" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="退格" data-value="-1" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="清屏" data-value="clear" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="(" data-value="(" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value=")" data-value=")" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="[" data-value="[" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="]" data-value="]" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="{" data-value="{" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="}" data-value="}" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="." data-value="." class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="+" data-value="+" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="-" data-value="-" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="÷" data-value="/" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                        <div class="col-xs-1  col-sm-1  col-md-1  col-lg-1">
                            <input type="button" value="x" data-value="*" class="btn btn-info"
                                   onclick="calculationHandleWrite(this)">
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-xs-12  col-sm-12  col-md-12  col-lg-12">
                            <button type="button" class="btn btn-default">
                                <i class="fa fa-check-square  fa-5x pull-left  fa-border" onclick="(function(_this) {
                                    var form = $(_this).closest('form');
                                    var result = form.find('[name=result]');
                                    var value = result.val() ;
                                    if (!value){
                                        return false;
                                    }
                                    try { result.val(eval(value)) ;} catch(e) { }
                                }(this));"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>


        </div>
    </div>

</div>

<script src="../assembly/js/navbar.js"></script>
<script src="../assembly/js/aesTool.js" type="text/javascript"></script>
<script src="../assembly/js/bootstrapModel.js" type="text/javascript"></script>
<script type="text/javascript">
    function calculationHandleWrite(_this) {
        var value = $(_this).attr("data-value");
        var form = $(_this).closest("form");
        var result = form.find("textarea[name='result']");
        var str = result.attr("data-value");
        if (value) {
            //true
        } else if (value == '0') {
            //true
        } else {
            return false;
        }
        if (value == 'clear') {
            result.attr({"data-value": ''});
            result.val('');
            return false;
        }
        var arr = str.split(",");
        var temp = [];
        for (var i = 0; i < arr.length; i++) {
            if (arr[i]) {
                temp.push(arr[i]);
            }
        }
        arr = temp;
        if (value == '-1') {
            arr.pop();
            result.attr({"data-value": arr.join(",")});
            result.val(arr.join(""));
            return false;
        }
        arr.push(value);
        result.attr({"data-value": arr.join(",")});
        result.val(arr.join(""));
    }

    $(document).ready(function () {
        $("#navBarToolView").empty().append(navBarTool.getHtml());
    });
</script>
</body>
</html>